openapi: 3.0.3
info:
    title: Enduro API
    version: "1.0"
servers:
    - url: http://localhost:9000
paths:
    /batch:
        get:
            tags:
                - batch
            summary: status batch
            description: Retrieve status of current batch operation.
            operationId: batch#status
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchStatusResult'
                            example:
                                run_id: abc123
                                running: false
                                status: abc123
                                workflow_id: abc123
        post:
            tags:
                - batch
            summary: submit batch
            description: Submit a new batch
            operationId: batch#submit
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/SubmitRequestBody'
                        example:
                            completed_dir: abc123
                            path: abc123
                            pipeline: abc123
                            processing_config: abc123
                            reject_duplicates: false
                            retention_period: abc123
            responses:
                "202":
                    description: Accepted response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchResult'
                            example:
                                run_id: abc123
                                workflow_id: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /batch/hints:
        get:
            tags:
                - batch
            summary: hints batch
            description: Retrieve form hints
            operationId: batch#hints
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchHintsResult'
                            example:
                                completed_dirs:
                                    - abc123
    /collection:
        get:
            tags:
                - collection
            summary: list collection
            description: List all stored collections
            operationId: collection#list
            parameters:
                - name: name
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: original_id
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: transfer_id
                  in: query
                  description: Identifier of Archivematica tranfser
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Identifier of Archivematica tranfser
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: aip_id
                  in: query
                  description: Identifier of Archivematica AIP
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Identifier of Archivematica AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: pipeline_id
                  in: query
                  description: Identifier of Archivematica pipeline
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Identifier of Archivematica pipeline
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                - name: earliest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: e1d563b0-1474-4155-beed-f2d3a12e1529
                    format: date-time
                  example: e1d563b0-1474-4155-beed-f2d3a12e1529
                - name: latest_created_time
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: e1d563b0-1474-4155-beed-f2d3a12e1529
                    format: date-time
                  example: e1d563b0-1474-4155-beed-f2d3a12e1529
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: in progress
                    enum:
                        - new
                        - in progress
                        - done
                        - error
                        - unknown
                        - queued
                        - pending
                        - abandoned
                  example: in progress
                - name: cursor
                  in: query
                  description: Pagination cursor
                  allowEmptyValue: true
                  schema:
                    type: string
                    description: Pagination cursor
                    example: abc123
                  example: abc123
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ListResponseBody'
                            example:
                                items:
                                    - aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      completed_at: "1970-01-01T00:00:01Z"
                                      created_at: "1970-01-01T00:00:01Z"
                                      id: 1
                                      name: abc123
                                      original_id: abc123
                                      pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      started_at: "1970-01-01T00:00:01Z"
                                      status: in progress
                                      transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                next_cursor: abc123
    /collection/{id}:
        delete:
            tags:
                - collection
            summary: delete collection
            description: Delete collection by ID
            operationId: collection#delete
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to delete
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to delete
                    example: 1
                  example: 1
            responses:
                "204":
                    description: No Content response.
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
        get:
            tags:
                - collection
            summary: show collection
            description: Show collection by ID
            operationId: collection#show
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to show
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to show
                    example: 1
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStoredCollection'
                            example:
                                aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                completed_at: "1970-01-01T00:00:01Z"
                                created_at: "1970-01-01T00:00:01Z"
                                id: 1
                                name: abc123
                                original_id: abc123
                                pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                started_at: "1970-01-01T00:00:01Z"
                                status: in progress
                                transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
    /collection/{id}/cancel:
        post:
            tags:
                - collection
            summary: cancel collection
            description: Cancel collection processing by ID
            operationId: collection#cancel
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to remove
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to remove
                    example: 1
                  example: 1
            responses:
                "200":
                    description: OK response.
                "400":
                    description: 'not_running: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
    /collection/{id}/decision:
        post:
            tags:
                - collection
            summary: decide collection
            description: Make decision for a pending collection by ID
            operationId: collection#decide
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to look up
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to look up
                    example: 1
                  example: 1
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                option:
                                    type: string
                                    description: Decision option to proceed with
                                    example: abc123
                            example:
                                option: abc123
                        example:
                            option: abc123
            responses:
                "200":
                    description: OK response.
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
    /collection/{id}/download:
        get:
            tags:
                - collection
            summary: download collection
            description: Download collection by ID
            operationId: collection#download
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to look up
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to look up
                    example: 1
                  example: 1
            responses:
                "200":
                    description: OK response.
                    headers:
                        Content-Disposition:
                            required: true
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                        Content-Length:
                            required: true
                            schema:
                                type: integer
                                example: 1
                                format: int64
                            example: 1
                        Content-Type:
                            required: true
                            schema:
                                type: string
                                example: abc123
                            example: abc123
                    content:
                        application/json:
                            schema:
                                type: string
                                format: binary
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
    /collection/{id}/retry:
        post:
            tags:
                - collection
            summary: retry collection
            description: Retry collection processing by ID
            operationId: collection#retry
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to retry
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to retry
                    example: 1
                  example: 1
            responses:
                "200":
                    description: OK response.
                "400":
                    description: 'not_running: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
    /collection/{id}/workflow:
        get:
            tags:
                - collection
            summary: workflow collection
            description: Retrieve workflow status by ID
            operationId: collection#workflow
            parameters:
                - name: id
                  in: path
                  description: Identifier of collection to look up
                  required: true
                  schema:
                    type: integer
                    description: Identifier of collection to look up
                    example: 1
                  example: 1
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroCollectionWorkflowStatus'
                            example:
                                history:
                                    - details: abc123
                                      id: 1
                                      type: abc123
                                status: abc123
                "404":
                    description: 'not_found: Collection not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/CollectionNotfound'
                            example:
                                id: 1
                                message: abc123
    /collection/bulk:
        get:
            tags:
                - collection
            summary: bulk_status collection
            description: Retrieve status of current bulk operation.
            operationId: collection#bulk_status
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BulkStatusResult'
                            example:
                                closed_at: "1970-01-01T00:00:01Z"
                                run_id: abc123
                                running: false
                                started_at: "1970-01-01T00:00:01Z"
                                status: abc123
                                workflow_id: abc123
        post:
            tags:
                - collection
            summary: bulk collection
            description: Bulk operations (retry, cancel...).
            operationId: collection#bulk
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/BulkRequestBody'
                        example:
                            operation: cancel
                            size: 1
                            status: in progress
            responses:
                "202":
                    description: Accepted response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/BatchResult'
                            example:
                                run_id: abc123
                                workflow_id: abc123
                "400":
                    description: 'not_valid: Bad Request response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
                "409":
                    description: 'not_available: Conflict response.'
                    content:
                        application/vnd.goa.error:
                            schema:
                                $ref: '#/components/schemas/Error'
    /collection/monitor:
        get:
            tags:
                - collection
            summary: monitor collection
            operationId: collection#monitor
            responses:
                "101":
                    description: Switching Protocols response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroMonitorUpdate'
                            example:
                                id: 1
                                item:
                                    aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                    completed_at: "1970-01-01T00:00:01Z"
                                    created_at: "1970-01-01T00:00:01Z"
                                    id: 1
                                    name: abc123
                                    original_id: abc123
                                    pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                    run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                    started_at: "1970-01-01T00:00:01Z"
                                    status: in progress
                                    transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                    workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                type: abc123
    /pipeline:
        get:
            tags:
                - pipeline
            summary: list pipeline
            description: List all known pipelines
            operationId: pipeline#list
            parameters:
                - name: name
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: string
                    example: abc123
                  example: abc123
                - name: status
                  in: query
                  allowEmptyValue: true
                  schema:
                    type: boolean
                    default: false
                    example: false
                  example: false
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/EnduroStoredPipeline'
                                example:
                                    - capacity: 1
                                      current: 1
                                      id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                      name: abc123
                                      status: abc123
                            example:
                                - capacity: 1
                                  current: 1
                                  id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                  name: abc123
                                  status: abc123
    /pipeline/{id}:
        get:
            tags:
                - pipeline
            summary: show pipeline
            description: Show pipeline by ID
            operationId: pipeline#show
            parameters:
                - name: id
                  in: path
                  description: Identifier of pipeline to show
                  required: true
                  schema:
                    type: string
                    description: Identifier of pipeline to show
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/EnduroStoredPipeline'
                            example:
                                capacity: 1
                                current: 1
                                id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                                name: abc123
                                status: abc123
                "404":
                    description: 'not_found: Pipeline not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PipelineNotFound'
                            example:
                                id: abc123
                                message: abc123
    /pipeline/{id}/processing:
        get:
            tags:
                - pipeline
            summary: processing pipeline
            description: List all processing configurations of a pipeline given its ID
            operationId: pipeline#processing
            parameters:
                - name: id
                  in: path
                  description: Identifier of pipeline
                  required: true
                  schema:
                    type: string
                    description: Identifier of pipeline
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                  example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: string
                                    example: abc123
                                example:
                                    - abc123
                            example:
                                - abc123
                "404":
                    description: 'not_found: Pipeline not found'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/PipelineNotFound'
                            example:
                                id: abc123
                                message: abc123
    /swagger/swagger.json:
        get:
            tags:
                - swagger
            summary: Download internal/api/gen/http/openapi.json
            description: JSON document containing the API swagger definition.
            operationId: swagger#/swagger/swagger.json
            responses:
                "200":
                    description: File downloaded
components:
    schemas:
        BatchHintsResult:
            type: object
            properties:
                completed_dirs:
                    type: array
                    items:
                        type: string
                        example: abc123
                    description: A list of known values of completedDir used by existing watchers.
                    example:
                        - abc123
            example:
                completed_dirs:
                    - abc123
        BatchResult:
            type: object
            properties:
                run_id:
                    type: string
                    example: abc123
                workflow_id:
                    type: string
                    example: abc123
            example:
                run_id: abc123
                workflow_id: abc123
            required:
                - workflow_id
                - run_id
        BatchStatusResult:
            type: object
            properties:
                run_id:
                    type: string
                    example: abc123
                running:
                    type: boolean
                    example: false
                status:
                    type: string
                    example: abc123
                workflow_id:
                    type: string
                    example: abc123
            example:
                run_id: abc123
                running: false
                status: abc123
                workflow_id: abc123
            required:
                - running
        BulkRequestBody:
            type: object
            properties:
                operation:
                    type: string
                    example: cancel
                    enum:
                        - retry
                        - cancel
                        - abandon
                size:
                    type: integer
                    default: 100
                    example: 1
                status:
                    type: string
                    example: in progress
                    enum:
                        - new
                        - in progress
                        - done
                        - error
                        - unknown
                        - queued
                        - pending
                        - abandoned
            example:
                operation: cancel
                size: 1
                status: in progress
            required:
                - operation
                - status
        BulkStatusResult:
            type: object
            properties:
                closed_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                run_id:
                    type: string
                    example: abc123
                running:
                    type: boolean
                    example: false
                started_at:
                    type: string
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    example: abc123
                workflow_id:
                    type: string
                    example: abc123
            example:
                closed_at: "1970-01-01T00:00:01Z"
                run_id: abc123
                running: false
                started_at: "1970-01-01T00:00:01Z"
                status: abc123
                workflow_id: abc123
            required:
                - running
        CollectionNotfound:
            type: object
            properties:
                id:
                    type: integer
                    description: Identifier of missing collection
                    example: 1
                message:
                    type: string
                    description: Message of error
                    example: abc123
            description: Collection not found
            example:
                id: 1
                message: abc123
            required:
                - message
                - id
        EnduroCollectionWorkflowHistory:
            type: object
            properties:
                details:
                    type: string
                    description: Contents of the event
                    example: abc123
                    format: binary
                id:
                    type: integer
                    description: Identifier of collection
                    example: 1
                type:
                    type: string
                    description: Type of the event
                    example: abc123
            description: WorkflowHistoryEvent describes a history event in Temporal.
            example:
                details: abc123
                id: 1
                type: abc123
        EnduroCollectionWorkflowHistoryCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroCollectionWorkflowHistory'
            example:
                - details: abc123
                  id: 1
                  type: abc123
        EnduroCollectionWorkflowStatus:
            type: object
            properties:
                history:
                    $ref: '#/components/schemas/EnduroCollectionWorkflowHistoryCollection'
                status:
                    type: string
                    example: abc123
            example:
                history:
                    - details: abc123
                      id: 1
                      type: abc123
                status: abc123
        EnduroMonitorUpdate:
            type: object
            properties:
                id:
                    type: integer
                    description: Identifier of collection
                    example: 1
                item:
                    $ref: '#/components/schemas/EnduroStoredCollection'
                type:
                    type: string
                    description: Type of the event
                    example: abc123
            example:
                id: 1
                item:
                    aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    completed_at: "1970-01-01T00:00:01Z"
                    created_at: "1970-01-01T00:00:01Z"
                    id: 1
                    name: abc123
                    original_id: abc123
                    pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    started_at: "1970-01-01T00:00:01Z"
                    status: in progress
                    transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                type: abc123
            required:
                - id
                - type
        EnduroStoredCollection:
            type: object
            properties:
                aip_id:
                    type: string
                    description: Identifier of Archivematica AIP
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                completed_at:
                    type: string
                    description: Completion datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                created_at:
                    type: string
                    description: Creation datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                id:
                    type: integer
                    description: Identifier of collection
                    example: 1
                name:
                    type: string
                    description: Name of the collection
                    example: abc123
                original_id:
                    type: string
                    description: Identifier provided by the client
                    example: abc123
                pipeline_id:
                    type: string
                    description: Identifier of Archivematica pipeline
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                run_id:
                    type: string
                    description: Identifier of latest processing workflow run
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                started_at:
                    type: string
                    description: Start datetime
                    example: "1970-01-01T00:00:01Z"
                    format: date-time
                status:
                    type: string
                    description: Status of the collection
                    default: new
                    example: in progress
                    enum:
                        - new
                        - in progress
                        - done
                        - error
                        - unknown
                        - queued
                        - pending
                        - abandoned
                transfer_id:
                    type: string
                    description: Identifier of Archivematica tranfser
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                workflow_id:
                    type: string
                    description: Identifier of processing workflow
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
            description: StoredCollection describes a collection retrieved by the service.
            example:
                aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                completed_at: "1970-01-01T00:00:01Z"
                created_at: "1970-01-01T00:00:01Z"
                id: 1
                name: abc123
                original_id: abc123
                pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                started_at: "1970-01-01T00:00:01Z"
                status: in progress
                transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
            required:
                - id
                - status
                - created_at
        EnduroStoredCollectionCollection:
            type: array
            items:
                $ref: '#/components/schemas/EnduroStoredCollection'
            example:
                - aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  completed_at: "1970-01-01T00:00:01Z"
                  created_at: "1970-01-01T00:00:01Z"
                  id: 1
                  name: abc123
                  original_id: abc123
                  pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  started_at: "1970-01-01T00:00:01Z"
                  status: in progress
                  transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                  workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
        EnduroStoredPipeline:
            type: object
            properties:
                capacity:
                    type: integer
                    description: Maximum concurrent transfers
                    example: 1
                    format: int64
                current:
                    type: integer
                    description: Current transfers
                    example: 1
                    format: int64
                id:
                    type: string
                    description: Identifier of pipeline
                    example: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                    format: uuid
                name:
                    type: string
                    description: Name of the pipeline
                    example: abc123
                status:
                    type: string
                    example: abc123
            description: StoredPipeline describes a pipeline retrieved by this service.
            example:
                capacity: 1
                current: 1
                id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                name: abc123
                status: abc123
            required:
                - name
        Error:
            type: object
            properties:
                fault:
                    type: boolean
                    description: Is the error a server-side fault?
                    example: false
                id:
                    type: string
                    description: ID is a unique identifier for this particular occurrence of the problem.
                    example: 123abc
                message:
                    type: string
                    description: Message is a human-readable explanation specific to this occurrence of the problem.
                    example: parameter 'p' must be an integer
                name:
                    type: string
                    description: Name is the name of this class of errors.
                    example: bad_request
                temporary:
                    type: boolean
                    description: Is the error temporary?
                    example: false
                timeout:
                    type: boolean
                    description: Is the error a timeout?
                    example: false
            example:
                fault: false
                id: 123abc
                message: parameter 'p' must be an integer
                name: bad_request
                temporary: false
                timeout: false
            required:
                - name
                - id
                - message
                - temporary
                - timeout
                - fault
        ListResponseBody:
            type: object
            properties:
                items:
                    $ref: '#/components/schemas/EnduroStoredCollectionCollection'
                next_cursor:
                    type: string
                    example: abc123
            example:
                items:
                    - aip_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      completed_at: "1970-01-01T00:00:01Z"
                      created_at: "1970-01-01T00:00:01Z"
                      id: 1
                      name: abc123
                      original_id: abc123
                      pipeline_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      run_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      started_at: "1970-01-01T00:00:01Z"
                      status: in progress
                      transfer_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                      workflow_id: d1845cb6-a5ea-474a-9ab8-26f9bcd919f5
                next_cursor: abc123
            required:
                - items
        PipelineNotFound:
            type: object
            properties:
                id:
                    type: string
                    description: Identifier of missing pipeline
                    example: abc123
                message:
                    type: string
                    description: Message of error
                    example: abc123
            description: Pipeline not found
            example:
                id: abc123
                message: abc123
            required:
                - message
                - id
        SubmitRequestBody:
            type: object
            properties:
                completed_dir:
                    type: string
                    example: abc123
                path:
                    type: string
                    example: abc123
                pipeline:
                    type: string
                    example: abc123
                processing_config:
                    type: string
                    example: abc123
                reject_duplicates:
                    type: boolean
                    default: false
                    example: false
                retention_period:
                    type: string
                    example: abc123
            example:
                completed_dir: abc123
                path: abc123
                pipeline: abc123
                processing_config: abc123
                reject_duplicates: false
                retention_period: abc123
            required:
                - path
tags:
    - name: batch
      description: The batch service manages batches of collections.
    - name: collection
      description: The collection service manages packages being transferred to Archivematica.
    - name: pipeline
      description: The pipeline service manages Archivematica pipelines.
    - name: swagger
      description: The swagger service serves the API swagger definition.
